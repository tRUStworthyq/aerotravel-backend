# 001. Выбор архитектуры: микросервисы против монолита

* **Статус:** Принято
* **Владелец решения:** Максим Долгий dolgiy_m@list.ru
* **Дата:** 24.09.2025

## Контекст и постановка проблемы

Проект находится на стартовой стадии, и необходимо выбрать архитектурный подход, который позволит эффективно развивать систему в долгосрочной перспективе.  
Требуется обеспечить высокую масштабируемость, отказоустойчивость и возможность независимого развертывания компонентов системы.

## Цели принятия решения

- Обеспечить горизонтальную масштабируемость системы под нагрузку до 100k+ пользователей.
- Повысить отказоустойчивость системы за счет изоляции сервисов.

## Рассмотренные варианты

### Вариант 1: Монолитная архитектура

* **Описание:** Все компоненты системы размещаются в едином процессе и развертываются как одно целое.
* **Плюсы (+):**
    * Простота разработки на начальном этапе.
    * Легкость отладки и тестирования в рамках одного приложения.
    * Меньшие накладные расходы на межсервисное взаимодействие.
* **Минусы (-):**
    * Единая точка отказа: сбой в одном модуле может привести к падению всей системы.
    * Сложность масштабирования: необходимо масштабировать весь монолит, даже если нагрузка приходится на один компонент.
    * Замедление разработки по мере роста кодовой базы.

### Вариант 2: Микросервисная архитектура

* **Описание:** Система разбивается на набор независимых сервисов, каждый из которых решает свою бизнес-задачу и общается с другими через API.
* **Плюсы (+):**
    * Высокая масштабируемость: каждый сервис можно масштабировать независимо.
    * Улучшенная отказоустойчивость: изоляция сбоев.
    * Возможность использовать разные технологии для разных сервисов.
* **Минусы (-):**
    * Усложнение инфраструктуры: необходимы механизмы оркестрации, обнаружения сервисов, логирования и мониторинга.
    * Сложность отладки распределенной системы.
    * Накладные расходы на межсервисное взаимодействие.

## Выбранное решение

Был выбран **Вариант 2: Микросервисная архитектура**, так как он наилучшим образом соответствует целям масштабируемости, отказоустойчивости и ускорения разработки в долгосрочной перспективе.  
Несмотря на стартовую сложность, этот подход позволит гибко реагировать на рост нагрузки и бизнес-требований.

## Последствия

* **Положительные:**
    * Система сможет масштабироваться под высокие нагрузки.
    * Повысится устойчивость к сбоям.
* **Отрицательные / Риски:**
    * Усложнение инфраструктуры.
    * Необходимость внедрения дополнительных инструментов (логирование, трейсинг, мониторинг).
* **Что нужно сделать:**
    * [&check;] Разработать схему разделения системы на микросервисы по бизнес-доменам.
    * [] Выбрать и настроить инструменты для контейнеризации, оркестрации и межсервисного взаимодействия.
    * [] Настроить централизованное логирование, мониторинг и трейсинг.

## Дополнительные материалы

* [microservices.io](https://microservices.io/)